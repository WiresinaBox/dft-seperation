<!DOCTYPE html>
<html>
  <head>
    <title>Orbitals Testing</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script type="text/javascript" src="http://d3js.org/d3.v3.min.js"></script>
    <script type="text/javascript" src="http://mpld3.github.io/js/mpld3.v0.3.min.js"></script>
    
    <style>
      .figure{
        height:100px;
        width: 100px;
      }
      .select{
        height:100px;
        width: 100px;
      }
    </style>
  </head>

  <body>
 


    <div class=container>
      <div class=select>
        <select name=complex-id id=complex-select></select>
      </div>
      <div id=fig01 class=figure></div>
    </div>

  </body>



  <script type="text/javascript">
    var complexSelect = document.getElementById('complex-select');

    $(document).ready(function() {
      console.log('Ready!');
      //Get options from the other side.
      $.ajax({
          method: "PUT",
          //data: ..., #Used for passing back data to the other side
          success: function (data) {
              var dataArray = JSON.parse(data);
              for (let i = 0; i < dataArray.length; i++) {
                var opt = document.createElement('option');
                opt.value = dataArray[i];
                opt.innerHTML = dataArray[i];
                complexSelect.appendChild(opt);
                };
            },
          dataType: "html"
        });
    
      $("#complex-select").change(function () {
        var complex = $(this).children("option:selected").val();
        console.log(complex);
        $.ajax({
          method: "PATCH",
          url: "/"+complex,
          data: complex,
          success: function (data) {
            console.log(data)
            var fig = document.getElementById('fig01');
            fig.innerHTML=data;


          },
          dataType: "html",


        });
      });
      
    });
    



  </script>
</html>
